<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测试节点操作</title>
    <style>
        /* .number{
            width: 100px;
            height: 100px;
            background-color: pink;
        } */
    </style>
</head>
<body>
    <h3>本html用于测试append节点操作可实现性,寻找js代码哪一步出了错</h3>
    <div class="list">123456</div>
    <div class="pagination">456789</div>
    <script>
        //创建全局变量，获取html元素
        var list = document.querySelector('.list');
        //清空class=list标签内的内容
        list.innerHTML = '';

        //创建一个数组，依次将数组的值赋给first所在标签
        var Array = [1,2,3,4,5,6,7,8,9];

        //设置每页的元素个数，perPage可以用var设置为全局变量
        //注意，当前页面currentPage不可以设置为全局变量，因为它会不断变化
        //应该在函数内用 let 声明 currentPage
        var perPage = 3;
        

        //计算最大页码
        var totalPages = Math.ceil(Array.length / perPage);

        //渲染页面中的列表
        function renderList(currentPage){
            //利用for循环遍历将Array数组中的数字存入Number中
            let i=0;
            if(currentPage !== 1){
                i= ((currentPage-1)*3);
            }

            //利用控制台输出检验是否合理
            console.log("List内currentPage=",currentPage);
            console.log("i=",i);
            
            for (i; i < Array.length && i <perPage*currentPage; i++) {
                //创建一个标签模板，用来显示数组中的数字
                //Sum所代表的div标签作为容器存放Text div和Number div
                let Sum = document.createElement('div');
                //Text所代表的div标签用来显示 “数字为”
                let Text = document.createElement('div');
                //Number所代表的div标签用来显示数组数字
                let Number = document.createElement('div');
                
                // Number.className = "number";

                //利用innerHTML对Text统一赋值
                Text.innerHTML = "数字为";

                //将Text div 和 Number div 放入Sum中
                Sum.appendChild(Text);
                Sum.appendChild(Number);

                Number.innerHTML = Array[i];
                list.appendChild(Sum);
            }
            
        }

        //渲染分页部分
        function renderPagination(){
            //清空分页标签
            var pagination = document.querySelector('.pagination');
            pagination.innerHTML = '';

            //声明当前页面
            let currentPage = 1;

            for(let i=1;i<=totalPages;i++){ 
                //创建按钮元素
                button = document.createElement('button'); 
                button.innerHTML=i; 
                pagination.appendChild(button);
                
                 // 必须为每个按钮添加**独立**的事件监听器
                button.addEventListener('click', function () {
                    list.innerHTML = '';

                    // console.log(typeof button.innerHTML) ==> string
                    //利用parseInt将button上的内容由字符串转换为整型数字，赋值给当前页面

                    renderList(parseInt(this.innerHTML));
                });
            }

            
        }
            
    
        //先用一个renderList显示第一页列表，再切换
        renderList(1);
        //调用分页函数，控制页面数
        renderPagination();


    </script>
</body>
</html>

<!-- // for(let i=1;i<totalPages && i<((Array.length/perPage)+1);i++){ // //创建按钮元素 // var
    button=document.createElement('button'); // button.innerHTML=i; // pagination.appendChild(button); // } -->

    <!--按钮控制部分-->
    <!-- //添加按钮事件监听器，点击后执行函数
    button.addEventListener('click', function () {
    
    // console.log(typeof button.innerHTML) ==> string
    //利用parseInt将button上的内容由字符串转换为整型数字，赋值给当前页面
    currentPage = parseInt(button.innerHTML);
    
    console.log("pagination内currentPage=",currentPage)
    
    //每次切换页面时清除原来的内容，不然页面会无限变长
    list.innerHTML = '';
    
    renderList(currentPage);
    }); -->
 